{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Authentication Error - DevPulse</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'css/home.css' %}">
    <style>
        .error-icon {
            font-size: 5rem;
            color: #ef4444;
            animation: shake 0.5s ease-out;
        }

        @keyframes shake {

            0%,
            100% {
                transform: translateX(0);
            }

            10%,
            30%,
            50%,
            70%,
            90% {
                transform: translateX(-10px);
            }

            20%,
            40%,
            60%,
            80% {
                transform: translateX(10px);
            }
        }

        .fade-in {
            animation: fadeIn 0.6s ease-out 0.3s both;
        }

        @keyframes fadeIn {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 1;
            }
        }
    </style>
</head>

<body class="d-flex align-items-center justify-content-center">

    <div class="container my-5">
        <div class="row justify-content-center">
            <div class="col-md-6 col-lg-5">

                <!-- Messages -->
                {% if messages %}
                {% for message in messages %}
                <div class="alert alert-{{ message.tags }} alert-dismissible fade show glass-card border-0 mb-4"
                    role="alert" style="background: rgba(239, 68, 68, 0.2); color: white;">
                    <i class="fas fa-exclamation-triangle me-2"></i>
                    {{ message }}
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="alert"
                        aria-label="Close"></button>
                </div>
                {% endfor %}
                {% endif %}

                <div class="glass-card text-center">
                    <!-- Error Icon -->
                    <div class="error-icon mb-4">
                        <i class="fas fa-times-circle"></i>
                    </div>

                    <!-- Header -->
                    <h2 class="text-gradient mb-3 fade-in">Authentication Failed</h2>
                    <p class="text-light opacity-75 mb-4 fade-in">
                        We couldn't complete the authentication process
                    </p>

                    <!-- Error Details -->
                    {% if exception %}
                    <div class="alert alert-danger glass-card border-0 mb-4 text-start fade-in"
                        style="background: rgba(239, 68, 68, 0.1);">
                        <strong>Error:</strong> {{ exception }}
                    </div>
                    {% endif %}

                    <!-- Action Buttons -->
                    <div class="d-grid gap-2 fade-in">
                        <a href="{% url 'user:signup' %}" class="btn btn-gradient btn-lg">
                            <i class="fas fa-redo me-2"></i>Try Again
                        </a>
                        <a href="{% url 'user:login' %}" class="btn btn-outline-light">
                            <i class="fas fa-sign-in-alt me-2"></i>Login with Email
                        </a>
                    </div>

                    <!-- Help Link -->
                    <div class="mt-4 fade-in">
                        <p class="small text-light opacity-50 mb-2">Need help?</p>
                        <a href="/" class="link-accent">
                            <i class="fas fa-home me-2"></i>Go to Homepage
                        </a>
                    </div>
                </div>

                <!-- Troubleshooting Card -->
                <div class="glass-card mt-3 fade-in">
                    <div class="small text-light opacity-75">
                        <h6 class="text-light mb-3">
                            <i class="fas fa-question-circle me-2"></i>Common Issues
                        </h6>
                        <ul class="mb-0 ps-3">
                            <li class="mb-2">Make sure you allowed permissions on the authorization page</li>
                            <li class="mb-2">Check that your account email is verified</li>
                            <li class="mb-2">Try clearing your browser cache and cookies</li>
                            <li>If the problem persists, try logging in with email instead</li>
                        </ul>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>